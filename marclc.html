<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>矩阵计算器</title>
<link rel="shortcut icon" href="img/favicon.png">
<link rel="stylesheet" href="css/plugins.css">

<!-- ========== MAIN CSS ========== -->
<link href="css/style.css" rel="stylesheet">
<link href="css/responsive.css" rel="stylesheet">

<!--[if lt IE 9]>
    <script src="js/vendor/modernizr-2.6.2.min.js"></script>
    <![endif]-->

</head>
<!--/head-->

<body>
<header class="box-header sticky">
  <div class="container">
    <div class="row box-header-wrap">
      <nav class="navbar navbar-default">
        <div class="navbar-header pull-left">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
          <p><a class="navbar-brand" href="index.html#"><img src="img/logo01.jpg" width="390"></a></p>
        </div>
        <div class="collapse navbar-collapse pull-right" id="bs-example-navbar-collapse-1">
          <ul class="main-nav nav navbar-nav text-uppercase text-right">
            <li><a href="index.html#resources">Back to "Resources" | 返回"资源"</a></li>
            <!--<li><a href="#home">2020年春季活动安排"</a></li>
            <li><a href="#downloads">Downloads | 下载</a></li> -->
          </ul>
        </div>
        <!-- /.navbar-collapse --> 
      </nav>
      <!-- End desktop nav --> 
    </div>
    <!-- //.row --> 
  </div>
  <!-- //.container --> 
</header>
<!--<section id="home" class="banner-area">
  <div class="container">
    <div class="row">
      <div class="banner-text col-sm-7">
        <h1>矩阵计算器</h1>
		 <h3>由互联网搬运。</h3>
        <a href="index.html#resources" class="btn btn-border text-uppercase">返回"资源"</a> </div>
      <div class="banner-image col-sm-4 col-sm-offset-1"> </div>
      <img src="" alt="" width="480" class="img-responsive" /> </div>
  </div>
</section> -->
<section id="downloads" class="how-works-area">
  <div class="container">
    <div class="row">
      <!--<div class="section-title col-sm-8 col-sm-offset-2 text-center">
        <h2 class="text-uppercase branding-color">Resources Download | 资料下载 <span> <i class="fa fa-circle"></i> <i class="fa fa-circle"></i> <i class="fa fa-circle"></i> </span> </h2>
        <p>以下内容为现阶段我们需要的FTC资料，根据寒假之前的分工，请大家完成材料的研读：</p>
      </div> -->
      <div class="left col-sm-6">
        <div class="single">
      <div class="bd" style="height: auto !important;">
<div class="mod_box_t3 fn_box"><grammarly-extension class="_1KJtL" style="position: absolute; top: -1px; left: -1px; pointer-events: none;"><div data-grammarly-part="highlights" class="u_fNK" style="position: absolute; top: 0px; left: 0px;"><div style="box-sizing: content-box; top: 252px; left: 50px; width: 573.969px; height: 172.938px; position: relative; pointer-events: none; overflow: hidden; border: 0px; border-radius: 0px; padding: 0px; margin: 0px;"><div style="position: absolute; top: 0px; left: 0px;"><div style="height: 901px; width: 1940px;"><div></div><div></div></div></div></div></div><div data-grammarly-part="button" class="u_fNK" style="position: absolute; top: 0px; left: 0px;"><div style="box-sizing: content-box; top: 252px; left: 50px; width: 573.969px; height: 172.938px; position: relative; pointer-events: none; overflow: hidden; border: 0px; border-radius: 0px; padding: 0px; margin: 0px;"><div style="position: absolute; transform: translate(-100%, -100%); top: 161.469px; left: 562.5px; width: auto; height: auto; pointer-events: all;"><div style="flex-direction: row; display: flex; pointer-events: auto;"><div style="position: relative;"></div><div data-grammarly-part="gbutton"><div class="_5WizN _1QzSN Vxw1H"><div class="_3YmQx"><div title="Protected by Grammarly" class="_3QdKe">&nbsp;</div></div></div></div></div></div></div></div></grammarly-extension>
<div class="box_con">
<div class="mathmod_form">
<form style="TEXT-ALIGN: center" action="http://www.99cankao.com/matrix/matrix.php">
<table>
<tbody>
<tr>
<td>A = </td>
<td>
<button onclick="transposeMatrix(this.form.matrixA)" type="button">置换A</button><br>
<textarea class="input" onfocus="this.value=&#39;&#39;" id="matrixA" title="Enter matrix A here" name="matrixA" rows="6" cols="26">输入矩阵，空格分开。</textarea>
</td>
<td> B = </td>
<td>
<button onclick="transposeMatrix(this.form.matrixB)" type="button">置换B</button><br>
<textarea class="input" onfocus="this.value=&#39;&#39;" id="matrixB" title="Enter matrix B here" name="matrixB" rows="6" cols="26">输入矩阵，空格分开。</textarea>
</td></tr>
<tr>
<td>C = </td>
<td colspan="3">
<textarea id="matrixC" name="matrixC" rows="6" cols="62" spellcheck="false">在这里你会看到结果矩阵C</textarea>
</td></tr></tbody></table>
<p>
<button onkeypress="evalIt(this.form.matrixA.value, this.form.matrixB.value, this.form.matrixC,
		this.form.formula.options[this.form.formula.selectedIndex].value)" title="Evaluate the formula, accesskey &#39;X&#39;" accesskey="x" onclick="evalIt(this.form.matrixA.value, this.form.matrixB.value, this.form.matrixC,
		this.form.formula.options[this.form.formula.selectedIndex].value);" type="button" value="计算" name="but">计算</button>
<label>　　C = </label>
<select id="formula" name="formula">
<option value="A*B" selected="">A*B</option>
<option value="B*A">B*A</option> <option value="A*B*A">A*B*A</option>
<option value="B*A*B">B*A*B</option>
<option value="A^2">A^2</option>
<option value="B^2">B^2</option>
<option value="A+B">A+B</option>
</select>
<button type="reset" >重置</button></p></form>
<script type="text/javascript">
	/**
	Matrix functions

	Copyright (C) 2001-2003 Borislav Manolov

	This program is free software; you can redistribute it and/or
	modify it under the terms of the GNU General Public License
	as published by the Free Software Foundation; either version 2
	of the License, or (at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
	GNU General Public License for more details.

	Author: Borislav Manolov
		b.manolov at the server gmail.com
		http://purl.org/NET/borislav
*/

/**************************************************************/
// matrix parsing
/**************************************************************/

function reduceWhitespaces(str) {
	// remove leading whitespaces
	str = str.substr( str.search(/\S/) )
	// remove carriage returns (CR)
	str = str.replace(/\r|\+/g, "");
	// convert tabs to a space
	str = str.replace(/\t/g, " ");

	// reduce spaces - more than one -> one
	str = str.replace(/ {2,}/g, " ");
	// reduce new lines - more than one -> one
	str = str.replace(/\n{2,}/g, "\n");
	// clear spaces at the beginning and the end of the rows
	str = str.replace(/ +\n+ +|\n+ +| +\n+/g, "\n");

	// remove ending whitespaces
	str = str.replace(/\s+$/g,"")
	return str;
}

/*****************************/

function parseMatrix(matrixStr) {
	matrixStr = reduceWhitespaces(matrixStr);
	if (
			// 1. no digits
			matrixStr.search( /\d/ ) == -1 ||
			// 2. other chars than digits, slashes, whitespaces, dots, dashes
			matrixStr.search( /[^0-9\/\s\.-]/ ) != -1 ||
			// 3. chars like '-/'
			matrixStr.search( /\-\// ) != -1 ||
			// 4. permutations of (/slash, dot) + d*
			// 	+ permutaions of (slash, dot, dash)
			matrixStr.search( /[\/\.]\d*[\/\.-]/ ) != -1 ||
			// 5. chars like '-d*-' ('d' means digit, * - 0 or more)
			matrixStr.search( /-\d*-/ ) != -1 ||
			// 6. lonely dot - ' . '
			matrixStr.search( /\s\.\s|\s\.$/ ) != -1 ||
			// 7. lonely minus - ' - '
			matrixStr.search( /\s-\s|\s-$/ ) != -1 ||
			// 8. non-digit + slash + one or more non-digits - 'D/D*'
			matrixStr.search( /\D\/\D*/ ) != -1 ||
			// 9. chars like 'dd-'
			matrixStr.search( /\d+-/ ) != -1
	) {

		注意Msg('矩阵为空或它包含非数字.');
		return false;
	}

	var tempRows = matrixStr.split("\n")
	var matrix = new Array();
	matrix[0] = tempRows[0].split(" ");
	var tempFrac = new Array(2); // numerator & denominator
	var tmp = "";

	for (var j=0; j < matrix[0].length; j++) {
		tmp = matrix[0][j];
		if (tmp.indexOf(".") != -1) {
			matrix[0][j] = float2frac(tmp);
		} else {
			if (tmp.indexOf("/") == -1) {
					tmp += "/";
			}
			tempFrac = tmp.split("/");
			if (tempFrac[1] == "" || parseInt(tempFrac[1]) == 0)
					tempFrac[1] = 1;
			matrix[0][j] = tempFrac;
		}
	}

	for (var i=1; i < tempRows.length; i++) {
		matrix[i] = tempRows[i].split(" ");
		if (matrix[i].length != matrix[i-1].length) {
			注意Msg('不同的行有不同数量的元素.\n\n'
					+ 'row ' + i + ' = ' + matrix[i-1].length + ' elements\n'
					+ 'row ' + (i+1) + ' = ' + matrix[i].length + ' elements\n');
			return false;
		}
		for (var j=0; j < matrix[i].length; j++) {
			tmp = matrix[i][j];
			if (tmp.indexOf(".") != -1) {
				matrix[i][j] = float2frac(tmp);
			} else {
				if (tmp.indexOf("/") == -1) {
					tmp += "/";
				}
				tempFrac = tmp.split("/");
				if (tempFrac[1] == "" || parseInt(tempFrac[1]) == 0)
					tempFrac[1] = 1;
				matrix[i][j] = tempFrac;
			}
		}
	}
	return matrix;
}


function float2frac(floatNum) {
	var str = String(floatNum);
	var sign = str.charAt(0) == '-' ? -1 : 1;
	var point = str.indexOf(".");
	var integ = parseInt( str.substring(0, point) );
	if (isNaN(integ))
		integ = 0;

	var frac_str = str.substr(point+1);
	var fracLen = frac_str.length;
	var frac = parseInt(frac_str, 10);
	if (isNaN(frac)) {
		frac = 0;
		denom = 1;
	} else {
		denom = Math.pow(10, fracLen);
	}

	return normalizeFrac(
		new Array(
				denom * integ + sign * frac,
				denom) );
}


/**************************************************************/
// matrix arithmetic
/**************************************************************/

function multiplyMatr(matrixA, matrixB) {
	var rowsA = matrixA.length;
	var rowsB = matrixB.length; // == colsA
	var colsB = matrixB[0].length;
	var matrixC = new Array(rowsA);

	for (var i=0; i < rowsA; i++) {
		matrixC[i] = new Array(colsB);
	}

	for (var k=0; k < colsB; k++) {
		for (var i=0; i < rowsA; i++) {
			var temp = new Array(0,1);
			for (var j=0; j < rowsB; j++) {
				temp =
					addFracs( temp, multFracs(matrixA[i][j], matrixB[j][k]) );
			}
			matrixC[i][k] = temp;
		}
	}
	return matrixC;
}


/****************************************************/

function addMatr(matrixA, matrixB) {
	var rowsA = matrixA.length; // == rowsB
	var colsA = matrixA[0].length; // == colsB
	var matrixC = new Array(rowsA);

	for (var i=0; i < rowsA; i++) {
		matrixC[i] = new Array(colsA);
		for (var j=0; j < colsA; j++) {
			matrixC[i][j] = addFracs(matrixA[i][j], matrixB[i][j]);
		}
	}
	return matrixC;
}


/****************************************************/

function isSquare(matrix) {
	return matrix.length == matrix[0].length;
}

/****************************************************/

function isRegular(matrix) {
	if (!isSquare(matrix)) {
		注意Msg('矩阵不是方形.');
		return false;
	}
	var rows = matrix.length;

	nextRow:
	for (var i=0; i < rows; i++) {
		for (var j=0; j < rows; j++) {
			if (matrix[j][i][0] != 0) {
				continue nextRow;
			}
		}
		注意Msg('矩阵是单数.');
		return false;
	}
	return true;
}



/**************************************************************/
// public functions
/**************************************************************/

function doMatrMult_AB(matrixA, matrixB) {
	matrixA = parseMatrix(matrixA);
	if (matrixA == false)
		return false;
	matrixB = parseMatrix(matrixB);
	if (matrixB == false)
		return false;

	if (canBeMult(matrixA, matrixB)) {
		return multiplyMatr(matrixA, matrixB);
	} else {
		注意Msg('在第一个矩阵的列必须等于行'
				+ '第二个.\n他们不能被乘以.');
		return false;
	}
}

/****************************************************/

function doMatrMult_ABA(matrixA, matrixB) {
	matrixA = parseMatrix(matrixA);
	if (matrixA == false)
		return false;
	matrixB = parseMatrix(matrixB);
	if (matrixB == false)
		return false;
	if (canBeMult(matrixA, matrixB) && canBeMult(matrixB, matrixA) ) {
		return multiplyMatr( multiplyMatr(matrixA, matrixB),
												matrixA );
	} else {
		注意Msg('在第一个矩阵的列必须等于行 '
				+ '在第二个和第二个矩阵的列'
				+ '必须等于的第一个行.\n'
				+ '他们不能被乘以.');
		return false;
	}
}


function canBeMult(matrixA, matrixB) {
	var colsA = matrixA[0].length;
	var rowsB = matrixB.length;
	if (colsA != rowsB) {
		return false;
	}
	return true;
}

/****************************************************/

function powMatr(matrix) {
	matrix = parseMatrix(matrix);
	if (matrix == false)
		return false;
	if (canBeMult(matrix, matrix)) {
		return multiplyMatr(matrix, matrix);
	} else {
		注意Msg('矩阵必须是方阵.\n!.');
		return false;
	}
}

/****************************************************/

function doMatrAdd(matrixA, matrixB) {
	matrixA = parseMatrix(matrixA);
	if (matrixA == false)
		return false;
	matrixB = parseMatrix(matrixB);
	if (matrixB == false)
		return false;

	if (canBeAdd(matrixA, matrixB)) {
		return addMatr(matrixA, matrixB);
	} else {
		注意Msg('该矩阵的维数是不同的. \n'
				+ '他们不能被添加.');
		return false;
	}
}


function canBeAdd(matrixA, matrixB) {
	if (
			matrixA.length != matrixB.length ||
			matrixA[0].length != matrixB[0].length
	) {
		return false;
	}
	return true;
}


/**************************************************************/
// matrix.toString()
/**************************************************************/

function matr2str(matrix) {
	var str = "";
	var maxNumer = getMaxDigits(matrix, 0);
	var maxDenom = getMaxDigits(matrix, 1);
	var diff = 0;

	for (var i=0; i < matrix.length; i++) {
		for (var j=0; j < matrix[0].length; j++) {
			if (matrix[i][j][0] == undefined ||
					matrix[i][j][1] == undefined) {
						注意Msg("未定义的元素 at [" + i +"]["+ j+"]");
			}
			diff = maxNumer - matrix[i][j][0].toString().length;
			for (var k=0; k < diff; k++) {
				str += " ";
			}
			str += matrix[i][j][0];
			if (matrix[i][j][1] != 1 && matrix[i][j][0] != 0) {
				str += "/" + matrix[i][j][1];
			} else {
				str += "  ";
			}
			diff = maxDenom - matrix[i][j][1].toString().length;
			for (var k=0; k < diff+1; k++)
				str += " ";
		}
		str += "\n";
	}
	return str;
}


function getMaxDigits(matrix, index){
	var max = 0;
	var temp = 0;
	for (var i=0; i < matrix.length; i++) {
		for (var j=0; j < matrix[0].length; j++) {
			temp = matrix[i][j][index].toString().length;
			if (temp > max)
				max = temp;
		}
	}
	return max;
}


function getTranspose(matrix) {
	var rows = matrix.length;
	var cols = matrix[0].length;
	var transpose = new Array(cols);
	for (var i=0; i < cols; i++) {
		transpose[i] = new Array(rows);
		for (var j=0; j < rows; j++) {
			transpose[i][j] = matrix[j][i];
		}
	}
	return transpose;
}

/**************************************************************/
// LU Decomposition
/**************************************************************/

function decomposeLU(matrix) {

	var dim = matrix.length;
	// permutation matrix
	var permMatr = getIdentMatr(dim);
	var quotient = new Array(1, 1);
	var found = false;
	for (var k = 0; k < dim-1; k++) {
		for (var i = k+1; i < dim; i++) {
			if (matrix[k][k][0] == 0) {
				for (var p = k+1; p < dim; p++) {
					if (matrix[p][k][0] != 0) {
						matrix = swapRows(matrix, k, p);
						permMatr = swapRows(permMatr, k, p);
						found = true;
					}
				}
				if (!found) {
					注意Msg('该矩阵是单数.');
					return false;
				}
			}
			quotient = divFracs(matrix[i][k], matrix[k][k]);
			matrix[i][k] = quotient;
			for (var j = k+1; j < dim; j++) {
				matrix[i][j] =
					subFracs( matrix[i][j], multFracs(quotient, matrix[k][j]) );
			}
		}
	}
	var matrices = extractLU(matrix);
	matrices['P'] = permMatr;
	return matrices;
}

/****************************************************/

function getIdentMatr(dim) {
	var identMatr = new Array(dim);

	for (var i=0; i < dim; i++) {
		identMatr[i] = new Array(dim);
		for (var j=0; j < dim; j++) {
			identMatr[i][j] = new Array(2);
			identMatr[i][j][0] = i == j ? 1 : 0;
			identMatr[i][j][1] = 1;
		}
	}
	return identMatr;
}

/****************************************************/

function extractLU(matrixLU) {
	var dim = matrixLU.length;
	var matrixL = new Array(dim);
	var matrixU = new Array(dim);

	for (var i=0; i < dim; i++) {
		matrixL[i] = new Array(dim);
		matrixU[i] = new Array(dim);
	}

	for (var i=0; i < dim; i++) {
		for (var j=0; j <= i; j++) {
			matrixL[j][i] = new Array(0, 1);
			matrixU[j][i] = matrixLU[j][i];
		}
	}

	for (var i=1; i < dim; i++) {
		for (var j=0; j < i; j++) {
			matrixL[i][j] = matrixLU[i][j];
			matrixU[i][j] = new Array(0, 1);
		}
	}

	for (var i=0; i < dim; i++) {
		matrixL[i][i] = new Array(1, 1);
	}

	var matrices = new Array();
	matrices['L'] = matrixL;
	matrices['U'] = matrixU;
	return matrices;
}


// solve system of linear equations
function solve_lineq(coefs, vec) {
	if (coefs.length != vec.length) {
		注意Msg('在右边向量的维数必须是'+
			'等于维度的系数矩阵, i.e. '+
			'如果是3×3的矩阵，那么必须有3个元素的向量.');
		return false;
	}
	var matrices = decomposeLU(coefs);
/* alert('== L ==\n'+matr2str(matrices['L'])+
	'\n---\n== U ==\n'+matr2str(matrices['U']));*/
	var y = solve_lineq_ltm(matrices['L'], multiplyMatr(matrices['P'], vec));
	return solve_lineq_utm(matrices['U'], y);
}


// solve system of linear equations using an upper triangular matrix
function solve_lineq_utm(utm, vec) {
	var dim = vec.length;
	var solut = new Array(dim);

	for (var i = dim-1; i >= 0; i--) {
		var right = vec[i][0];
		for (var k = i+1; k < dim; k++) {
			right =
				subFracs(right, multFracs(utm[i][k], solut[k][0]));
		}
		solut[i] = new Array(1);
		solut[i][0] = divFracs(right, utm[i][i]);
	}

	return solut;
}


// solve system of linear equations using an lower triangular matrix
function solve_lineq_ltm(ltm, vec) {
	var dim = vec.length;
	var solut = new Array(dim);
	for (var i = 0; i < dim; i++) {
		var right = vec[i][0];
		for (var k = i-1; k >= 0; k--) {
			right = subFracs(right, multFracs(ltm[i][k], solut[k][0]));
		}
		solut[i] = new Array(1);
		solut[i][0] = divFracs(right, ltm[i][i]);
	}

	return solut;
}


/***********************************************************/

function clearFileds() {
	for (var i = 0; i < clearFileds.arguments.length; i++) {
		clearFileds.arguments[i].value = "";
	}
}

/****************************************************/

function swapRows(matrix, rowA, rowB) {
	var tmp = matrix[rowA];
	matrix[rowA] = matrix[rowB];
	matrix[rowB] = tmp;
	return matrix;
}

/****************************************************/

function 注意Msg(msg) {
	alert("注意: \n" + msg);
}

/**************************************************************/
// Basic functions
/**************************************************************/

// @return great common divisor of a and b
function gcd(a, b) {
	if (a == 0 || b == 0) return 1;
	a = Math.abs(a);
	b = Math.abs(b);
	if (a < b) {
			var tmp = b;
			b = a;
			a = tmp;
	}
	var rest = 1;
	while ( (rest = a%b) != 0) {
			a = b;
			b = rest;
	}
	return b;
}

/****************************************************/

// @return least common multiple of a and b
function lcm(a, b) {
	return a*b / gcd(a, b);
}

/****************************************************/

function sig(i) {
	return i < 0 ? -1 : 1;
}

/****************************************************/

/*
	@return (frac1 + frac2), i.e.
	2        3        7
	---  +  ----  =  ----
	5       10       10
*/
function addFracs(frac1, frac2) {
	checkFracs(frac1, frac2);
	if (frac1[0] == 0)
		return normalizeFrac(frac2);
	else if (frac2[0] == 0)
		return normalizeFrac(frac1);
	else if (frac1[1] == 0 || frac2[1] == 0) {
		注意Msg("addFracs(): Denominator is 0.");
		return false;
	}

	return normalizeFrac(
		new Array(
				frac1[0] * frac2[1] + frac1[1] * frac2[0],
				frac1[1] * frac2[1] ));
}

/****************************************************/

function subFracs(frac1, frac2) {
	return addFracs(frac1, new Array(-1*frac2[0], frac2[1]));
}

/****************************************************/

/*
	@return frac1 x frac2,
	2        3        3
	---  x  ----  =  ----
	5       10       25
*/
function multFracs(frac1, frac2) {
	checkFracs(frac1, frac2);
	if (frac1[0] == 0 || frac2[0] == 0)
		return new Array(0,1);
	else if (frac1[1] == 0 || frac2[1] == 0) {
		注意Msg("multFracs(): Denominator is 0.");
		return false;
	}
	return normalizeFrac(
		new Array(
				frac1[0] * frac2[0],
				frac1[1] * frac2[1] ));
}

/****************************************************/

function divFracs(frac1, frac2) {
	return multFracs(frac1, reciprocal(frac2));
}

/****************************************************/

function reciprocal(frac) {
	if (frac[0] == 0) {
		return new Array(0, 1);
	}
	return new Array(frac[1] * sig(frac[0]), Math.abs(frac[0]));
}

/****************************************************/

function checkFracs(frac1, frac2) {
	for (var i=0; i<2; i++) {
		if (isNaN(frac1[i]) || isNaN(frac2[i])) {
			注意Msg("Either of the fractions is NaN.");
			return false;
		}
	}
	return true;
}

/****************************************************/

function normalizeFrac(frac) {
	var _gcd = gcd(frac[0], frac[1]);
	frac[0] /= _gcd; // numerator
	frac[1] /= _gcd; // denominator
	return frac;
}
										<!--
function evalIt(matrixA, matrixB, textarea, formula) {
	var matrix;
	switch (formula) {
		case "A*B" :
			matrix = doMatrMult_AB(matrixA, matrixB);
			break;
		case "B*A" :
			matrix = doMatrMult_AB(matrixB, matrixA);
			break;
		case "A*B*A" :
			matrix = doMatrMult_ABA(matrixA, matrixB);
			break;
		case "B*A*B" :
			matrix = doMatrMult_ABA(matrixB, matrixA);
			break;
		case "A^2" :
			matrix = powMatr(matrixA);
			break;
		case "B^2" :
			matrix = powMatr(matrixB);
			break;
		case "A+B" :
			matrix = doMatrAdd(matrixA, matrixB);
			break;
		case "B+A" :
			matrix = doMatrAdd(matrixB, matrixA);
			break;
		default :
			errorMsg('Unsupported formula.');
	}
	textarea.value = matr2str(matrix);
}

function transposeMatrix(textarea) {
	var parsed = parseMatrix(textarea.value);
	if (parsed) {
		textarea.value = matr2str( getTranspose( parsed ) );
	}
}
//--></script>
</div>
</div>
<i class="flag_tl_t3"></i>
<i class="flag_tr_t3"></i>
<i class="flag_bl_t3"></i>
<i class="flag_br_t3"></i>
</div>

</div>
        <div class="single">
         
           
          </p>
        </div>
        <div class="single">
          
        </div>
      </div>
     
    </div>
  </div>
</section>
<script type="text/javascript" src="js/vendor.js"></script> 
<script type="text/javascript" src="js/plugins.js"></script> 
<script type="text/javascript" src="js/switcher.js"></script> 
<script type="text/javascript" src="js/app.js"></script>
</body>
</html>
